"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function interceptor(){this.intercept("request",{config:function(e){requestCount++;var t=e.header&&!!e.header.ignoreLoading;return requestCount<=1&&!t&&_wepy2.default.showLoading({title:"加载中",mask:!0}),clearTimeout(clearLoadingTimer),e},success:function(e){return console.log("request success: ",e),e},fail:function(e){return console.log("request fail: ",e),e},complete:function(e){requestCount--,console.log("request complete: ",requestCount),clearTimeout(clearLoadingTimer),0===requestCount&&(clearLoadingTimer=setTimeout(function(){_wepy2.default.hideLoading()},200))}}),this.intercept("uploadFile",{config:function(e){requestCount++;var t=e.header&&!!e.header.ignoreLoading;return requestCount<=1&&!t&&_wepy2.default.showLoading({title:"加载中",mask:!0}),clearTimeout(clearLoadingTimer),e},success:function(e){return console.log("request success: ",e),e},fail:function(e){return console.log("request fail: ",e),e},complete:function(e){requestCount--,console.log("request complete: ",requestCount),clearTimeout(clearLoadingTimer),0===requestCount&&(clearLoadingTimer=setTimeout(function(){_wepy2.default.hideLoading()},200))}})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.interceptor=interceptor;var _wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),requestCount=0,clearLoadingTimer=null;