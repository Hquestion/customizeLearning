"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function login(){return new Promise(function(e,t){_wepy2.default.login({success:function(r){r.code&&_httpService2.default.get("api/UserBaseInfo/UserBindWeChatByCode",{code:r.code}).then(function(t){e(t.ResultObj)},t)},fail:function(e){_wepy2.default.showToast({title:"登陆失败",icon:"none"}),t(e)}})})}function userRegister(e){return new Promise(function(t,r){_httpService2.default.post("api/UserBaseInfo/UserBindWeChatSmallProgram",{OpenId:e.openid,SFZH:e.SFZH,XM:e.XM,nickName:e.nickName,avatarUrl:e.avatarUrl,gender:e.gender,city:"",province:"",Country:"",UnionId:""}).then(function(e){t(e.ResultObj)},r)})}function getCourseCateBySchool(e){return _httpService2.default.get("api/CourseInfo/GetCourseCategoryViewBySchool",{schoolFID:e})}function getCoursesByCategory(e,t){return new Promise(function(r,o){_httpService2.default.post("api/CourseInfo/GetPageListCourseInfo",{SchoolFID:t,CourseType:e,IsAudited:!0,IsOpen:!1,Page:{PageIndex:1,PageSize:9999}}).then(function(e){e.Flag?r(e.ResultObj.DataSource):o(e)},o)})}function getCourseDetailById(e){return new Promise(function(t,r){_httpService2.default.get("api/CourseInfo/GetCourseInfoDetails",{courseFID:e}).then(function(e){t(e.ResultObj)},r)})}function getSuccessTasksByCourseId(e){return new Promise(function(t,r){_httpService2.default.get("api/CourseGroup/GetCourseGroupCompleteByCourseID",{courseFID:e}).then(function(e){t(e.ResultObj)},r)})}function getClassmateList(e,t){return new Promise(function(r,o){_httpService2.default.get("api/CourseGroup/GetGroupSelectMembersViewByStudentCourse",{studentFID:e,courseFID:t}).then(function(e){r(e.ResultObj)},o)})}function isStuInCourseGroup(e,t,r){return new Promise(function(o,n){_httpService2.default.get("api/CourseGroup/GetGroupSelectMembersViewByStudentCourse",{studentFID:e,courseFID:t}).then(function(t){var n=t.ResultObj,u=n.find(function(t){return t.StudentFID===e}),s=void 0;s=!!u&&(!!u.GroupFID&&(!r||u.GroupFID===r)),o(!!s)},n)})}function createCourseGroup(e){return new Promise(function(t,r){_httpService2.default.post("api/CourseGroup/CreateCourseGroup",e).then(function(e){t(e)},r)})}function getStuDetailInfo(e){return new Promise(function(t,r){_httpService2.default.get("api/UserBaseInfo/GetSignStudentInfoView",{userFID:e}).then(function(e){t(e.ResultObj)},r)})}function getCourseTaskOrderList(e,t,r,o,n){return new Promise(function(u,s){_httpService2.default.post("api/CourseGroup/GetPageListCourseGroupInfo",{SchoolFID:e,LevelNum:r||"",GradeNum:o||"",ClassNum:n||"",UserFID:t||"",Page:{PageIndex:1,PageSize:9999}}).then(u,s)})}function userPraise(e,t,r){return new Promise(function(o,n){_httpService2.default.post("api/CourseGroup/UserPraise",{studentFID:e,groupFID:t,CourseFID:r}).then(o,n)})}function userCancelPraise(e,t,r){return new Promise(function(o,n){_httpService2.default.post("api/CourseGroup/UserCanclePraise",{studentFID:e,groupFID:t,CourseFID:r}).then(o,n)})}function getMyCourseTasks(e,t){return new Promise(function(r,o){_httpService2.default.post("api/CourseGroup/GetPageListCourseGroupByUser",{SchoolFID:e,UserFID:t,Page:{PageIndex:1,PageSize:9999}}).then(function(e){r(e.ResultObj.DataSource||[])},o)})}function activateGroupTask(e,t,r){return new Promise(function(o,n){_httpService2.default.post("api/CourseGroup/UseActivationGroup",{studentFID:e,groupFID:t,CourseFID:r}).then(function(e){o(e.ResultObj)},n)})}function getPrevKnowByCourse(e){return new Promise(function(t,r){_httpService2.default.get("api/CourseManage/GetSingleCourseKnows",{courseFID:e}).then(function(e){t(e.ResultObj)},r)})}function getCurrentActivateTask(e){return new Promise(function(t,r){_httpService2.default.get("api/CourseGroup/GetCurryActivation",{userFID:e}).then(function(e){t(e.ResultObj)},r)})}function getGroupDetail(e){return new Promise(function(t,r){_httpService2.default.get("api/CourseGroup/GetSingleCourseGroup",{groupFID:e}).then(function(e){t(e.ResultObj)},r)})}function getRemarkStandard(e){return new Promise(function(t,r){_httpService2.default.get("api/CourseManage/GetListCourseReflectConfigDetails",{courseFID:e}).then(function(e){t(e.ResultObj)},r)})}function getCourseArrangeList(e,t){return new Promise(function(r,o){_httpService2.default.get("api/CourseGroup/GetListCourseGroupArrangeInfo",{courseFID:e,groupFID:t}).then(function(e){r(e.ResultObj)},o)})}function deleteArrange(e){return new Promise(function(t,r){_httpService2.default.post("api/CourseGroup/DeleteCourseArrangeInfo",{FLnkID:e}).then(function(e){t(e.ResultObj)},r)})}function saveGroupArrangeList(e){return new Promise(function(t,r){_httpService2.default.post("api/CourseGroup/SaveCourseArrangeInfo",e).then(function(e){t(e.ResultObj)},r)})}function getThinkContent(e,t){return new Promise(function(r,o){_httpService2.default.get("api/CourseGroup/GetCrouseGroupReflectInfo",{userFID:e,groupFID:t}).then(function(e){r(e)},o)})}function saveThinkContent(e){return new Promise(function(t,r){_httpService2.default.post("api/CourseGroup/SaveCrouseGroupReflectInfo",{FlnkID:e.FlnkID||"",StudentFID:e.StudentFID,StudentName:e.StudentName,ReflectContent:e.ReflectContent,GroupFID:e.GroupFID,CourseFID:e.CourseFID}).then(function(e){t(e.ResultObj)},r)})}function getUserSubmitSteps(e,t){return new Promise(function(r,o){_httpService2.default.get("api/CourseGroup/GetCourseGroupWorkArrangeInfoByStudent",{userFID:e,groupFID:t}).then(function(e){r(e.ResultObj)},o)})}function uploadFile(e,t){return new Promise(function(r,o){_httpService2.default.uploadFile("api/File/UploadMessageFile",e,t).then(function(e){console.log(e),r(e.ResultObj)},o)})}function getChatMsgByPage(e,t,r,o){return new Promise(function(n,u){_httpService2.default.post("api/CourseGroup/GetPageChatMessage",{GroupFID:e,UserFID:t||null,RoleNum:r||null,Page:{PageIndex:o||1,PageSize:_config2.default.chatMsgPageSize||20}},{ignoreLoading:!0}).then(function(e){n(e.ResultObj)},u)})}function deleteChatMsg(e,t){return new Promise(function(r,o){_httpService2.default.post("api/CourseGroup/DeleteChatMessage",{MessageFID:e,UserFID:t}).then(function(e){r(e.ResultObj)},o)})}function getTeacherRemarkByGroup(e){return new Promise(function(t,r){_httpService2.default.get("api/CourseGroup/GetListCrouseGroupReflectScoreView",{groupFID:e}).then(function(e){t(e.ResultObj)},function(e){r(e)})})}function cancelBind(e){return new Promise(function(t,r){_httpService2.default.post("api/UserBaseInfo/CancleBindWeChat",{FLnkID:e}).then(function(e){t(e.ResultObj)},function(e){r(e)})})}function getGroupMembers(e){return new Promise(function(t,r){_httpService2.default.get("api/CourseGroup/GetListGroupMembersByGroup",{groupFID:e}).then(function(e){t(e.ResultObj)},function(e){r(e)})})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.login=login,exports.userRegister=userRegister,exports.getCourseCateBySchool=getCourseCateBySchool,exports.getCoursesByCategory=getCoursesByCategory,exports.getCourseDetailById=getCourseDetailById,exports.getSuccessTasksByCourseId=getSuccessTasksByCourseId,exports.getClassmateList=getClassmateList,exports.isStuInCourseGroup=isStuInCourseGroup,exports.createCourseGroup=createCourseGroup,exports.getStuDetailInfo=getStuDetailInfo,exports.getCourseTaskOrderList=getCourseTaskOrderList,exports.userPraise=userPraise,exports.userCancelPraise=userCancelPraise,exports.getMyCourseTasks=getMyCourseTasks,exports.activateGroupTask=activateGroupTask,exports.getPrevKnowByCourse=getPrevKnowByCourse,exports.getCurrentActivateTask=getCurrentActivateTask,exports.getGroupDetail=getGroupDetail,exports.getRemarkStandard=getRemarkStandard,exports.getCourseArrangeList=getCourseArrangeList,exports.deleteArrange=deleteArrange,exports.saveGroupArrangeList=saveGroupArrangeList,exports.getThinkContent=getThinkContent,exports.saveThinkContent=saveThinkContent,exports.getUserSubmitSteps=getUserSubmitSteps,exports.uploadFile=uploadFile,exports.getChatMsgByPage=getChatMsgByPage,exports.deleteChatMsg=deleteChatMsg,exports.getTeacherRemarkByGroup=getTeacherRemarkByGroup,exports.cancelBind=cancelBind,exports.getGroupMembers=getGroupMembers;var _wepy=require("./../npm/wepy/lib/wepy.js"),_wepy2=_interopRequireDefault(_wepy),_httpService=require("./../util/httpService.js"),_httpService2=_interopRequireDefault(_httpService),_config=require("./../config.js"),_config2=_interopRequireDefault(_config);